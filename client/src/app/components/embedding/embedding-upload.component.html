<div class="grow">
  <div class="w-full">
    <h1 class="text-4xl text-neutral-200 font-bold">
      Upload your documents
    </h1>

    <div class="max-w-4xl mt-8 space-y-4">
      <span
        *ngIf="error"
        class="text-red-500 block text-xl text-center"
      >{{ error }}</span>
      <span
        *ngIf="success"
        class="text-green-500 block text-xl text-center"
      >{{ success }}</span>

      <div
        class="border-2 border-dashed border-neutral-500 p-6 rounded-lg
               flex flex-col items-center justify-center cursor-pointer
               transition-all duration-300"
        (dragover)="onDragOver($event)"
        (dragleave)="onDragLeave($event)"
        (drop)="onDrop($event)"
        (click)="triggerFileInput()"
        [ngClass]="{ 'bg-neutral-800': isDragging }"
      >
        <ng-icon
          *ngIf="isDragging"
          name="heroArrowUpOnSquare"
          class="invert text-4xl mb-2"
        ></ng-icon>
        <p
          *ngIf="!isDragging && selectedFiles.length === 0"
          class="text-neutral-300 text-sm"
        >
          Drag and drop your documents here
        </p>
        <p
          *ngIf="!isDragging && selectedFiles.length === 0"
          class="text-neutral-500 text-xs"
        >
          or click to select files
        </p>

        <h3 *ngIf="selectedFiles.length" class="mt-2 text-white text-sm">
          Embedd Your Documents
        </h3>

        <input
          #fileInput
          id="documentInput"
          type="file"
          multiple
          (change)="onFileSelected($event)"
          accept="application/pdf, application/epub+zip"
          class="hidden"
        />
      </div>
      <ul *ngIf="selectedFiles.length" class="flex items-center justify-start gap-x-4">
        <li *ngFor="let f of selectedFiles" class="text-white border border-neutral-600 rounded-lg bg-gradient-to-br from-neutral-950 via-neutral-900 to-neutral-950 text-center p-3">{{ f.name }}</li>
      </ul>
      <button
        (click)="onUpload()"
        [disabled]="loading"
        class="w-full bg-white text-black py-2 px-4 rounded mt-4
               hover:bg-gray-300 transition duration-300 disabled:opacity-50"
      >
        {{ loading ? 'Uploadingâ€¦' : 'Upload Documents' }}
      </button>
    </div>
      <app-wave-progress
      [progress]="100"
      [strandCount]="12"
      [waveAmplitude]="4"
      [glowIntensity]="3"
      className="w-screen"
    ></app-wave-progress>
  </div>
</div>
